@import '../../style/mixins/index';

@btn-prefix-cls: ~'@{ant-prefix}-btn';

// Button in Space.Compact
.@{btn-prefix-cls} {
  .compact-item(@btn-prefix-cls);

  // make `btn-icon-only` not too narrow
  &-icon-only&-compact-item {
    min-width: @btn-height-base;

    &.@{btn-prefix-cls}-lg {
      min-width: @btn-height-lg;
    }

    &.@{btn-prefix-cls}-sm {
      min-width: @btn-height-sm;
    }
  }

  // Special styles for Primary Button
  &-compact-item.@{btn-prefix-cls}-primary {
    &:not([disabled]) + &:not([disabled]) {
      position: relative;
      &::after {
        position: absolute;
        top: -@border-width-base;
        left: -@border-width-base;
        display: inline-block;
        width: @border-width-base;
        height: calc(100% + @border-width-base * 2);
        background-color: @btn-group-border;
        content: ' ';
      }
    }
  }

  // ----------RTL----------
  &-compact-item-rtl {
    &.@{ant-prefix}-btn-compact-first-item&:not(.@{ant-prefix}-btn-compact-last-item) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &.@{ant-prefix}-btn-compact-last-item&:not(.@{ant-prefix}-btn-compact-first-item) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &.@{ant-prefix}-btn-sm {
      &.@{ant-prefix}-btn-compact-first-item&:not(.@{ant-prefix}-btn-compact-last-item) {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
      }

      &.@{ant-prefix}-btn-compact-last-item&:not(.@{ant-prefix}-btn-compact-first-item) {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }
    }

    // ----------RTL Special styles for Primary Button----------
    &.@{btn-prefix-cls}-primary {
      &:not([disabled]) + &:not([disabled]) {
        &::after {
          right: -@border-width-base;
        }
      }
    }
  }

  // Button in Space.Compact when direction=vertical
  .compact-item-vertical(@btn-prefix-cls);

  // Special styles for Primary Button
  &-compact-vertical-item {
    &.@{btn-prefix-cls}-primary {
      &:not([disabled]) + &:not([disabled]) {
        position: relative;

        &::after {
          position: absolute;
          top: -@border-width-base;
          left: -@border-width-base;
          display: inline-block;
          width: calc(100% + @border-width-base * 2);
          height: @border-width-base;
          background-color: @btn-group-border;
          content: ' ';
        }
      }
    }
  }
}
