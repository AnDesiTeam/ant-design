name: PR Open Check

on:
  pull_request_target:
    types: [opened, edited, reopened]

jobs:
  refuse:
    runs-on: ubuntu-latest
    steps:
      - uses: actions-cool/pr-welcome@v1.1.2
        with:
          refuse-issue-label: '🎱 Collaborate PR only'
          need-creator-authority: 'write'
          comment: |
            Hi @${{ github.event.pull_request.user.login }}. The issue mentioned in this PR needs to be confirmed with the designer or core team. This PR is temporarily not accepted. Thank you again for your contribution! 😊

            你好 @${{ github.event.pull_request.user.login }}。这个 PR 提及的 issue 需要和设计师或核心团队进行确认，暂时不接受 PR，再次感谢你的贡献！😊   
          pr-emoji: 'heart'
          close: true

  check-changelog:
    runs-on: ubuntu-latest
    steps:
      - name: check fill
        uses: actions-cool/pr-check-fill@v1.1.0
        with:
          filter-start: '|'
          require-include: '🇺🇸 English, 🇨🇳 Chinese'
          comment-body: |
            - 🚨 Please fill changelog in the PR
              - Write with a **developer-oriented perspective** and **narrative method**, without describing the details of the repair
              - **Describing the problem and the impact on the developer**
              - **describing the user-first site problem**, not your solution
              - Example1:
                - ❌ Fix the dom structure problem of component Typography.
                - ✅ Refactored and simplified the dom structure of List Item, and fixed the problem of missing content spaces in Item.
              - Example2:
                - ❌ Fix the path problem of style files under lib.
                - ✅ Fix the issue that some component styles are missing.

            - 🚨 请填写 PR 中的 changelog
              - 请用**面向开发者的角度**和**叙述方式撰写**，不描述修复细节
              - **描述问题和对开发者的影响**
              - **描述用户第一现场的问题**，而非你的解决方式
              - 例子1：
                - ❌ 修复组件 Typography 的 dom 结构问题。
                - ✅ 重构并简化了 List Item 的 dom 结构，并且修复了 Item 中内容空格丢失的问题。
              - 例子2：
                - ❌ 修复 lib 下样式文件路径问题。
                - ✅ 修复部分组件样式丢失的问题。
          skip-title-start: 'docs, chore, test, ci'
